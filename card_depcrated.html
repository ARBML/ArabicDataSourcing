<!doctype html>
<html>
<head>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css"></link>

<script type="text/javascript">
    function getParams() {
        var idx = document.URL.indexOf('?');
        var dataset = []
        var subsets = []
        var subsetList = '<table>'
        if (idx != -1) {
            var pairs = document.URL.substring(idx+1, document.URL.length).split('&');
            for (var i=0; i<pairs.length - 1; i++) {
                data = pairs[i].split('=') 
                
                var name = data[0].replace(/%20/g, " ");
                var value = data[1].replace(/%20/g, " ");
                if(name.includes("subset")){
                    name = name.replace("subset-", "");
                    subsetList += `<tr> <td>${name}</td> <td> ${value} </td> </tr>`
                }
                    
                else
                    dataset.push([name, value]);

            }
            subsetList += '</table>'
            dataset.push(['Subsets', subsetList])

        }
    return dataset;
    }
    const dataset = getParams();
    
$(document).ready(function() {
    $('#card').DataTable( {
        data: dataset,
        columns: [
            { title: "Data" },
            { title: "Description" },
        ],
        lengthMenu: [[-1], ["All"]],
        searching: false,
        paging: false,
    } );
  
} );
</script>   

</head>
<body>
<table id="card" class="display" width="100%"></table>
</body>
</html> 